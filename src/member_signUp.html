<!DOCTYPE html>
<html lang="en">

<head>
  @@include('./layout/meta.html', {
  "title" : "會員註冊"
  })
  @@include('./layout/chat.html')

  <script>
    function init() {
      showMember();
    }


    // 顯示會員資訊
    function showMember() {
      $.ajax({
        method: "POST",
        url: "./Frontend/Member.php",
        data: {},
        dataType: "text",
        success: function (response) {
          $('.guest_icon').css('display', 'none');
          $('.icon_create').after(response);
        },
        error: function (exception) {
          alert("數據載入失敗: " + exception.status);
        },
      });
    }
    // 顯示會員資訊結束

    //登入檢查 ---------------------------------------------------------------------------------
    function loginCheck(pid) {
      $.ajax({
        method: "POST",
        url: "Frontend/LoginCheck.php",
        data: {},
        dataType: "text",
        success: function (response) {
          if (response == "") {
            //尚未登入->前往Login.php
            alert("請先登入，將前往登入頁");
            location.href = "/member_signIn.html";
          } else {
            addToCar(pid);
          }
        },
        error: function (exception) {
          alert("數據載入失敗: " + exception.status);
        },
      });
    }

  </script>
</head>

<body onload="init()">
  @@include('./layout/header.html')

  <section class="memberSignIn_container">
    <div class="memberSignIn_banner">
      <img src="../src/images/member/logo.png" alt="" class="memberSignIn_logo rounded mx-auto d-block" />
      <h1 class="memberSignIn_title text-center">註冊會員</h1>
      <form action="./Frontend/join.php" method="post">
        <label>會員帳號</label>
        <br />
        <input type="email" required placeholder="請輸入您的Email" id="ACCOUNT" name="ACCOUNT" size="40" value="" />
        <br />
        <label>設定會員密碼</label>
        <br />
        <input type="password" pattern="^(?=.*[a-zA-Z])(?=.*[0-9]).{6,16}$" required="required"
          oninput="setCustomValidity('');" oninvalid="setCustomValidity('請輸入正確的密碼格式:含英數至少六個字元');" placeholder="請輸入您的密碼"
          id="PASSWORD" name="PASSWORD" size="40" value="" />
        <br />
        <label>再次確認會員密碼</label>
        <br />
        <input type="password" pattern="^(?=.*[a-zA-Z])(?=.*[0-9]).{6,16}$" required="required"
          oninput="setCustomValidity('');"
          onchange="if(document.getElementById('PASSWORD').value != document.getElementById('PASSWORD2').value){setCustomValidity('密碼驗證錯誤');}"
          placeholder="請再次輸入密碼" id="PASSWORD2" name="PASSWORD" size="40" value="" />
        <br />
        <label>會員姓名</label>
        <br />
        <input type="text" placeholder="請輸入您的姓名" size="40" id="NAME" name="NAME" value="" />
        <br />
        <label>性別</label>
        <br />
        <input type="radio" name="GENDER" id="member_first" value="男" />
        <label for="member_first">男性</label>
        <input type="radio" name="GENDER" id="member_second" value="女" />
        <label for="member_second">女性</label>
        <input type="radio" name="GENDER" id="member_third" value="暫不提供" />
        <label for="member_third">暫不提供</label>
        <br />
        <label>行動電話</label>
        <br />
        <input type="text" required="required" maxlength="10" pattern="09\d{2}\d{6}" placeholder="請輸入您的行動電話" name="PHONE" size="40" value="" />
        <br />
        <input type="checkbox" onclick="if (this.checked) {enable()} else {disable()}" id="memberSignIn_Privacy" />
        <label for="memberSignIn_Privacy">我已閱讀並同意會員條款</label>
        <br />
        <input type="submit" disabled="true" class="memberSignIn_confirm" id="memberSignIn_confirm" value="註冊" />
      </form>
      <h4 class="memberSignIn_word text-center">
        已經是會員?<a href="member_signIn.html" class="memberSignIn_signInButton">登入</a>
      </h4>
    </div>
  </section>
  <footer>
    <div class="footer_container">
      <ul class="footer_list">
        <li><a href="./news.html">最新消息</a></li>
        <li><a href="./summer_camp.html">冬夏令營</a></li>
        <li><a href="./local_theme.html">當地主題</a></li>
        <li><a href="./ideas.html">獲得靈感</a></li>
        <li><a href="./aboutus.html">品牌故事</a></li>
        <li><a href="./faq.html">常見問題</a></li>
        <li><a href="./member_signIn.html">會員專區</a></li>
      </ul>
      <ul class="footer_contact">
        <li>聯絡我們</li>
        <li>campion_service@gmail.com</li>
        <li>02 2712 0589</li>
        <li>104506台北市中山區南京東路三段219號5樓</li>
      </ul>
      <div class="footer_subscribe">
        <p>訂閱我們</p>
        <p>隨時取得冬夏令營資訊</p>
        <div class="footer_subscribe_mail">
          <input type="text" placeholder="Your email" style="padding: 8px" />
          <div class="btn footer_btn">訂閱</div>
        </div>
      </div>
    </div>
    <hr class="hr-solid" />
    <div class="footer_tibame">
      本網站為緯育TibaMe前端設計工程師班第72期第二組學員專題成果作品，本平台僅供學習、展示之用。參考資源：＿＿＿＿＿＿＿＿。
    </div>
  </footer>

  <script>
    // 設定當前頁面 css：桌機版 header
    let page = document.getElementsByClassName("header_pg");
    for (let i = 0; i < page.length; i++) {
      if (page[i].id !== "page_active7") {
        page[i].removeAttribute("id");
      }
    }
    // 設定當前頁面 css：漢堡選單
    let ham_page = document.getElementsByClassName("ham_pg");
    for (let i = 0; i < ham_page.length; i++) {
      if (ham_page[i].id !== "h_page_active7") {
        ham_page[i].removeAttribute("id");
      }
    }

    // 驗證帳號密碼是否錯誤
    const verifyACCOUNT = document.getElementById('ACCOUNT');
    // console.log(verify)
    verifyACCOUNT.addEventListener('input', function () {
      if (verifyACCOUNT.checkValidity()) {
        verifyACCOUNT.classList.add('valid')
        verifyACCOUNT.classList.remove('invalid')
      } else {
        verifyACCOUNT.classList.remove('valid')
        verifyACCOUNT.classList.add('invalid')
      }
    });

    const verifyPassword = document.getElementById('PASSWORD');
    // console.log(verifyPassword)
    verifyPassword.addEventListener('input', function () {
      if (verifyPassword.checkValidity()) {
        verifyPassword.classList.add('valid')
        verifyPassword.classList.remove('invalid')
      } else {
        verifyPassword.classList.remove('valid')
        verifyPassword.classList.add('invalid')
      }
    });

    const verifyPasswords = document.getElementById('PASSWORD2');
    // console.log(verifyPassword)
    verifyPasswords.addEventListener('input', function () {
      if (verifyPasswords.checkValidity()) {
        verifyPasswords.classList.add('valid')
        verifyPasswords.classList.remove('invalid')
      } else {
        verifyPasswords.classList.remove('valid')
        verifyPasswords.classList.add('invalid')
      }
    });

    function disable() {
      document.getElementById("memberSignIn_confirm").disabled = true;
      let registerBtn = document.getElementsByClassName("memberSignIn_confirm")[0];
      registerBtn.style.backgroundColor = "#F2F4F6";
    }
    function enable() {
      document.getElementById("memberSignIn_confirm").disabled = false;
      let registerBtn = document.getElementsByClassName("memberSignIn_confirm")[0];
      registerBtn.style.backgroundColor = "#02776F";

    }

  </script>
</body>

</html>